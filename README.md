# AWS-exploitation-framework

https://rhinosecuritylabs.com/aws/pacu-open-source-aws-exploitation-framework/

Technical Features
There are currently over 35 modules that range from reconnaissance, persistence, privilege escalation, enumeration, data exfiltration, log manipulation, and miscellaneous general exploitation.

Pacu can be used to compromise credentials, but its true potential lies in the post-compromise phase. However you get credentials — through phishing, web application vulnerabilities, password reuse, or other means — it is at this point that Pacu’s full feature set is realized. Among its long list of features, Pacu is capable of testing S3 bucket configuration and permission flaws, establishing access through Lambda backdoor functions, compromising EC2 instances, exfiltrating data, escalating privileges, and covering tracks by disrupting monitoring and logging, including CloudTrail, GuardDuty, and others.

A few of the most popular modules include:

confirm_permissions – Enumerates a list of confirmed permissions for the current account
privesc_scan – Abuses 20+ different privilege escalation methods to gain further access
cloudtrail_csv_injection – Injects malicious formulas into CloudTrail CSV exports
disrupt_monitoring – Targets GuardDuty, CloudTrail, Config, CloudWatch, and VPC to disrupt various monitoring and logging capabilities
backdoor_users_[keys/passwords] – Establish backdoor account access by adding credentials to other IAM user accounts
sysman_ec2_rce – Abuses the AWS Simple Systems Manager to try and gain root (Linux) or SYSTEM (Windows) level remote code execution on various EC2 instances
backdoor_ec2_sec_groups – Adds backdoor rules to EC2 security groups to give you access to private services
Architecture
 

Pacu’s open source and modular architecture allows for easy auditing and community-driven improvement. A common syntax and data structure keeps modules easy to build and expand on – no need to specify AWS regions or make redundant permission checks between modules. A local SQLite database is used to manage and manipulate retrieved data, minimizing API calls (and associated logs).

Different sessions makes it simple to separate engagements/projects, so two users or companies are never conflated in the testing process. Reporting and attack auditing is also built into the framework; Pacu assists the documentation process through command logging and exporting, helping build a timeline for the testing process throughout an engagement.

To make it easy to contribute to, we’ve exposed a built-in API to developers to make many common actions more accessible. We also have full documentation in GitHub.

# Installation and Setup
Pacu  is officially supported in both macOS and Linux, and requires only Python 3.5+ and pip3 to install a handful of libraries.

Getting started is as simple as cloning the repository and running the included install script, which will check for and download all the necessary dependencies:

> git clone https://github.com/RhinoSecurityLabs/pacu
> cd pacu
> bash install.sh
> python3 pacu.py
Starting Pacu:

> python3 pacu.py

After Pacu launches, you will be prompted to provide a session name, after which you can add your compromised credentials with the  ‘set_keys’ command and begin running modules.

Core commands:

list/ls                             List all modules
search [cat[egory]] <search term>   Search the list of available modules by name or category
help                                Display this page of information
help <module name>                  Display information about a module
whoami                              Display information regarding to the active access keys
data                                Display all data that is stored in this session.
data <service>|proxy                Display all data for a specified service
services                            Display a list of services that have collected data
regions                             Display a list of all valid AWS regions
update_regions                      Run a script to update the regions database
set_regions <region> [<region>...]  Set the default regions for this session.
run/exec <module name>              Execute a module
set_keys                            Add a set of AWS keys to the session
swap_keys                           Change the currently active AWS key to another key
exit/quit                           Exit Pacu
Nearly all commands are auto-completed for ease of use.

View the official Pacu GitHub wiki page for more detailed instructions and supporting documentation.
